!function(t){function e(e){for(var r,a,l=e[0],u=e[1],c=e[2],f=0,p=[];f<l.length;f++)a=l[f],i[a]&&p.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(s&&s(e);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,l=1;l<n.length;l++){var u=n[l];0!==i[u]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={0:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var s=u;o.push([101,1]),n()}({101:function(t,e,n){"use strict";n.r(e);n(73),n(39),n(44),n(16),n(51),n(34),n(35),n(54),n(55),n(61),n(63),n(64),n(66),n(67),n(68);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this}var e,n,i;return e=t,(n=[{key:"getData",value:function(t){return o[t]}}])&&r(e.prototype,n),i&&r(e,i),t}(),o={1:{graph:{percentages:[10,20],title:"Revenue",subtitle:"200.000€",data:[[0,5],[1,5],[2,5],[3,5],[4,5],[5,5.3],[6,5.5],[7,6],[8,6],[9,6.5],[10,6.2],[11,6.5],[12,6.8],[13,6.5],[14,6.5],[15,6.7],[16,6.9],[17,7],[18,7.2],[19,7],[20,7]]},infoBox:{1:{title:"Tablet",percentage:"60%",value:"120.000€"},2:{title:"Smartphone",percentage:"40%",value:"80.000€"}}},2:{graph:{percentages:[20,10],title:"Impresions",subtitle:"50.000.000",data:[[0,7],[1,7],[2,7],[3,6.8],[4,6.5],[5,6.6],[6,6.5],[7,6],[8,6.3],[9,6.5],[10,6],[11,6],[12,5.8],[13,5.6],[14,5.9],[15,5.6],[16,5.3],[17,5],[18,5],[19,5.4],[20,5]]},infoBox:{1:{title:"Tablet",percentage:"40%",value:"20.000.000"},2:{title:"Smartphone",percentage:"60%",value:"30.000.000"}}},3:{graph:{percentages:[15,85],title:"Visits",subtitle:"600.000.000",data:[[0,5],[1,5],[2,5],[3,5],[4,5],[5,5.3],[6,5.5],[7,6],[8,6],[9,6.5],[10,6.2],[11,6.5],[12,6.8],[13,6.5],[14,6.5],[15,6.7],[16,6.9],[17,7],[18,7.2],[19,7],[20,7]]},infoBox:{1:{title:"Tablet",percentage:"80%",value:"480.000.000"},2:{title:"Smartphone",percentage:"20%",value:"120.000.000"}}}},a=(n(69),n(70),n(96),n(100),{orange:["#B05C30","#E9C350"],blue:["#375264","#86C6E0"],green:["#466626","#99D158"],gray:["#C1C1C1","#6B6B6B"]});function l(t){if(!["orange","blue","green","gray"].includes(t))throw new Error("Invalid color");return a[t]}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=n(71),s=function(){function t(e,n,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.transformGroupPosition={w:60,h:150},this.canvas=e,this.data=n,this.color=r,this}var e,n,r;return e=t,(n=[{key:"create",value:function(){this.transformGroup=this.transformGroup();var t=this.getRange(this.data);this.addLine(t,this.data,this.color),this.addArea(t,this.data,this.color),this.clipLineChart()}},{key:"transformGroup",value:function(){return this.canvas.append("g").attr("transform","translate("+this.transformGroupPosition.w+","+this.transformGroupPosition.h+")")}},{key:"getRange",value:function(t){var e=c.scaleTime().range([0,3*this.transformGroupPosition.w]),n=c.scaleLinear().range([this.transformGroupPosition.h/2,0]);return e.domain(c.extent(t,function(t){return t[0]})),n.domain([0,c.max(t,function(t){return t[1]})]),{x:e,y:n}}},{key:"addLine",value:function(t,e,n){var r=c.line().curve(c.curveCardinal).x(function(e){return t.x(e[0])}).y(function(e){return t.y(e[1])});this.transformGroup.append("path").data([e]).attr("class","line").style("stroke",function(){return l(n)[1]}).attr("stroke-opacity",.5).attr("clip-path","url(#ellipse-clip)").attr("fill","transparent").attr("d",r)}},{key:"addArea",value:function(t,e,n){var r=c.area().curve(c.curveCardinal).x(function(e){return t.x(e[0])}).y0(70).y1(function(e){return t.y(e[1])});this.transformGroup.append("path").data([e]).attr("class","area").attr("fill",l(n)[1]).attr("clip-path","url(#ellipse-clip)").attr("fill-opacity","0.1").attr("d",r)}},{key:"clipLineChart",value:function(){this.transformGroup.append("clipPath").attr("id","ellipse-clip").append("ellipse").attr("cx",this.transformGroupPosition.w+30).attr("cy",this.transformGroupPosition.h-170).attr("rx",80).attr("ry",80)}}])&&u(e.prototype,n),r&&u(e,r),t}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=n(71),h=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!this.validateParams(e,n,r))throw new Error("Invalid Params for PieChart Creation");return this.width=300,this.height=260,this.radius=this.width/3-10,this.wrapperElement=p.select(e),this.data=n,this.color=r,this}var e,n,r;return e=t,(n=[{key:"create",value:function(){return this.scaleColor=p.scaleOrdinal().range(l(this.color)),this.canvas=this.mainCanvas(),this.transformGroup=this.transformGroup(),this.addTitles(this.data.title,this.data.subtitle),this.addPieArcs(this.data.percentages),this.addSideStrokes(),this}},{key:"addLineChart",value:function(){if(!this.canvas)throw Error("You need to create() the pie chart first, in order to add the line chart");return new s(this.canvas,this.data.data,this.color).create(),this}},{key:"mainCanvas",value:function(){return this.wrapperElement.append("svg").attr("viewBox","0 0 "+this.width+" "+this.height)}},{key:"transformGroup",value:function(){return this.canvas.append("g").attr("transform","translate("+this.width/2+","+this.height/2+")")}},{key:"addTitles",value:function(t,e){void 0!==t&&this.transformGroup.append("text").attr("text-anchor","middle").attr("font-size","20px").attr("y",-20).attr("fill",l("gray")[0]).text(t.toUpperCase()),void 0!==e&&this.transformGroup.append("text").attr("text-anchor","middle").attr("y",10).attr("font-size","25px").attr("fill",l("gray")[1]).text(e)}},{key:"addPieArcs",value:function(t){var e=this,n=p.arc().innerRadius(this.width/3).outerRadius(this.radius),r=p.pie().value(function(t){return t}).sort(null);this.transformGroup.selectAll(".arc").data(r(t)).enter().append("g").attr("class","arc").append("path").attr("d",n).attr("fill",function(t){return e.scaleColor(t.data)})}},{key:"addSideStrokes",value:function(){var t=this,e=[{x1:-this.width/2+63,x2:-this.width/2+67,y1:0,y2:0},{x1:this.width/2-63,x2:this.width/2-67,y1:0,y2:0},{x1:0,x2:0,y1:-this.height/2+47,y2:-this.height/2+43},{x1:0,x2:0,y1:this.height/2-47,y2:this.height/2-43}];void 0!==this.transformGroup&&e.forEach(function(e){t.transformGroup.append("line").attr("x1",e.x1).attr("y1",e.y1).attr("x2",e.x2).attr("y2",e.y2).attr("stroke-width",2).attr("stroke",l("gray")[0])})}},{key:"validateParams",value:function(t,e,n){if(void 0!==t&&this.validateData(e)&&this.validateColor(n))return!0}},{key:"validateData",value:function(t){if(null==t.percentages)throw new Error("Percentages missing in data");if(null==t.title)throw new Error("Title missing in data");if(null==t.subtitle)throw new Error("Subtitle missing in data");if(null==t.data)throw new Error("Data missing in data");return!0}},{key:"validateColor",value:function(t){if(!["orange","blue","green"].includes(t))throw new Error("Invalid color");return!0}}])&&f(e.prototype,n),r&&f(e,r),t}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){var e="function"==typeof Map?new Map:void 0;return(v=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return b(t,arguments,m(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}function b(t,e,n){return(b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E=function(){function t(e,n,r){if(w(this,t),!this.validateContainer(e)&&!this.validateData(n))throw new Error("Invalid Params for infobox creation");return this.container=e,this.data=n,this.color=r,this}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.container.getElementById("info-box").classList.add(this.color),this.container.getElementById("i1t").innerHTML=this.data[1].title,this.container.getElementById("i1p").innerHTML=this.data[1].percentage,this.container.getElementById("i1v").innerHTML=this.data[1].value,this.container.getElementById("i2t").innerHTML=this.data[2].title,this.container.getElementById("i2p").innerHTML=this.data[2].percentage,this.container.getElementById("i2v").innerHTML=this.data[2].value}},{key:"validateData",value:function(t){if(null==t[1].percentage||null==t[2].percentage)throw new k("Percentage missing in data");if(null==t[1].value||null==t[2].value)throw new k("Value missing in data");if(null==t[1].title||null==t[2].title)throw new k("Title missing in data");return!0}},{key:"validateContainer",value:function(t){try{t.getElementById("i1t").innerHTML,t.getElementById("i1p").innerHTML,t.getElementById("i1v").innerHTML,t.getElementById("i2t").innerHTML,t.getElementById("i2p").innerHTML,t.getElementById("i2v").innerHTML,t.getElementById("info-box").innerHTML}catch(t){throw new Error("You have to define elements with this ids: i1t, i1p, i1v, i2t, i2p, i2v inside your infoBox section")}}}])&&x(e.prototype,n),r&&x(e,r),t}(),k=function(t){function e(t){w(this,e);return y(this,m(e).call(this,t+" Example Json: \n"+JSON.stringify({1:{title:"Tablet",percentage:"80%",value:"480.000.000"},2:{title:"Smartphone",percentage:"20%",value:"120.000.000"}})))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,v(Error)),e}(),C=n(72),P=n.n(C);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){var e="function"==typeof Map?new Map:void 0;return(B=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return j(t,arguments,G(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),M(r,t)})(t)}function j(t,e,n){return(j=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&M(i,n.prototype),i}).apply(null,arguments)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=document.createElement("template");L.innerHTML=P.a;var _=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=S(this,G(e).call(this))).attachShadow({mode:"open"}),t.shadowRoot.appendChild(L.content.cloneNode(!0)),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,B(HTMLElement)),n=e,(r=[{key:"connectedCallback",value:function(){var t=(new i).getData(this.dataset.id),e=this.dataset.color;new h(this.shadowRoot.getElementById("pie-chart"),t.graph,e).create().addLineChart(),new E(this.shadowRoot,t.infoBox,e).init()}}])&&T(n.prototype,r),o&&T(n,o),e}();window.customElements.define("dvm-graph",_)},72:function(t,e){t.exports='<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">\n<slot>\n    <div class="container">\n        <div id="pie-chart"></div>\n        <div id="info-box" class="row info-box">\n            <div class="col  nopadding">\n                <div>\n                    <b id="i1t">Tablet</b>\n                </div>\n                <div>\n                    <label id="i1p" class="t-dark-gray m-right">60%</label>\n                    <label id="i1v" class="t-light-gray m-left">120000€</label>\n                </div>\n            </div>\n            <div class="col text-right nopadding">\n                <div>\n                    <b id="i2t">SmartPhone</b>\n                </div>\n                <div>\n                    <label id="i2p" class="t-dark-gray m-right">40%</label>\n                    <label id="i2v" class="t-light-gray m-left">80000€</label>\n                </div>\n            </div>\n        </div>\n    </div>\n</slot>\n\n<style>\n    .info-box {\n    border-bottom: 1px solid #C1C1C1;\n}\n\n.info-box .t-light-gray {\n    color: #C1C1C1;\n}\n\n.info-box .t-dark-gray {\n    color: #6B6B6B;\n}\n\n.info-box.blue b#i1t {\n    color: #86C6E0;\n}\n\n.info-box.blue b#i2t {\n    color: #375264;\n}\n\n.info-box.orange b#i1t {\n    color: #E9C350;\n}\n\n.info-box.orange b#i2t {\n    color: #B05C30;\n}\n\n.info-box.green b#i1t {\n    color: #99D158;\n}\n\n.info-box.green b#i2t {\n    color: #466626;\n}\n\n.nopadding {\n    padding: 0 !important;\n    margin: 0 !important;\n}\n\n.m-right {\n    margin-right: 5px;\n}\n\n.m-left {\n    margin-left: 5px;\n}\n</style>'},73:function(t,e,n){}});
//# sourceMappingURL=app.0bbd09ef.js.map